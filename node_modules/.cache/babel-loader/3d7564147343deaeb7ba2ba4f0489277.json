{"ast":null,"code":"import _slicedToArray from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/CardDetails/CardDetails.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport \"./card_details.css\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\";\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\n\nvar CardDetails = function CardDetails() {\n  var movie = useSelector(function (state) {\n    return state.individual;\n  });\n  var user = useStorage();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      add = _useState2[0],\n      setAdd = _useState2[1];\n\n  var imageUrl = movie.backdrop_path ? \"https://image.tmdb.org/t/p/original\".concat(movie.backdrop_path) : placeholder;\n  useEffect(function () {\n    dispatch(individualMovie(id));\n    dispatch(individualTvShow(id));\n  }, [id]);\n\n  var agregarFavoritos = function agregarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    axios.post(\"http://www.localhost:3001/api/user/\".concat(user.id, \"/favorite/add\"), {\n      tmdbId: movie.id,\n      title: movie.title,\n      poster_path: movie.poster_path,\n      description: movie.overview,\n      release_date: movie.release_date\n    }).then(function () {\n      return \"Se agrego tu favorito\";\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setAdd(true);\n    toast.success('Added to Favorites!');\n  };\n\n  var eliminarFavoritos = function eliminarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    axios.delete(\"http://www.localhost:3001/api/user/\".concat(user.id, \"/\").concat(movie.id, \"/remove\")).then(function () {\n      return \"Eliminado de favoritos\";\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setAdd(false);\n    toast.success('Removed to Favorites!');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagen_details\",\n    style: {\n      backgroundImage: \"url(\".concat(imageUrl, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"initial_det\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, \"THE MOVIE CODE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bottom-details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-chevron-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/search\",\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \" BACK \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, add === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bxs-star\",\n    onClick: eliminarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }\n  }, \" Remove from favorites\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-star\",\n    onClick: agregarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \" Add to favorites \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"container_titleD\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, movie.title ? movie.title : movie.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_year\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"container_year\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, movie.tagline ? movie.tagline : movie.type)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, movie.overview)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"cate1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, \" \", movie.title ? \"Movie\" : \"TV Show\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"cate2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, movie.release_date ? movie.release_date : movie.first_air_date)))));\n};\n\nexport default CardDetails;","map":{"version":3,"names":["React","useEffect","Link","useParams","useDispatch","useSelector","placeholder","individualMovie","individualTvShow","CardDetails","movie","state","individual","user","useStorage","id","dispatch","useState","add","setAdd","imageUrl","backdrop_path","agregarFavoritos","toast","error","axios","post","tmdbId","title","poster_path","description","overview","release_date","then","catch","console","log","success","eliminarFavoritos","delete","backgroundImage","name","tagline","type","first_air_date"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/CardDetails/CardDetails.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./card_details.css\"\nimport { Link, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\"\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\n\nconst CardDetails = () => {\n    const movie = useSelector(state => state.individual)\n    const user = useStorage();\n    const { id } = useParams();\n    const dispatch = useDispatch();\n    const [add, setAdd] = useState(false)\n\n    const imageUrl = movie.backdrop_path ? `https://image.tmdb.org/t/p/original${movie.backdrop_path}` : placeholder\n\n        useEffect(() => {\n        dispatch(individualMovie(id))\n        dispatch(individualTvShow(id))\n    }, [id])\n  \n    const agregarFavoritos = () => {\n      if (!user.id) throw toast.error('You need to be logged in');\n      axios.post(`http://www.localhost:3001/api/user/${user.id}/favorite/add`, {\n        tmdbId: movie.id,\n        title: movie.title,\n        poster_path: movie.poster_path,\n        description: movie.overview,\n        release_date: movie.release_date,\n      })\n        .then(() => \"Se agrego tu favorito\")\n        .catch((error) => console.log(error))\n      setAdd(true)\n      toast.success('Added to Favorites!')\n    };\n  \n    const eliminarFavoritos = () => {\n      if (!user.id) throw toast.error('You need to be logged in');\n      axios.delete(\n        `http://www.localhost:3001/api/user/${user.id}/${movie.id}/remove`)\n        .then(() => \"Eliminado de favoritos\")\n        .catch(error => console.log(error))\n      setAdd(false)\n  \n      toast.success('Removed to Favorites!')\n    };\n  \n  \n\n\n\n\n    return (\n\n        <div className=\"imagen_details\" style={{\n            backgroundImage: `url(${imageUrl})`\n        }}>\n            <div className=\"initial_det\">\n                <h1>THE MOVIE CODE</h1>\n                <div className=\"bottom-details\">\n                    <span className=\"back\">\n                        <i className='bx bx-chevron-left'></i>\n                        <Link to={\"/search\"} className=\"link\"> BACK </Link>\n                    </span>\n                </div>\n\n                <div className=\"info\">\n                    {add === true ? (\n                        <div className=\"favorite\" >\n                            <i className='bx bxs-star' onClick={eliminarFavoritos} > Remove from favorites</i>\n                        </div>\n                    ) : (\n                        <div className=\"favorite\" >\n                            <i className='bx bx-star' onClick={agregarFavoritos}> Add to favorites </i>\n                        </div>\n                    )}\n                    <div className=\"movie_title\">\n                        <h2 className=\"container_titleD\">\n                            {movie.title ? movie.title : movie.name}\n                        </h2>\n                    </div>\n                    <div className=\"movie_year\">\n                        <h3 className=\"container_year\">\n                            {movie.tagline ?\n                                movie.tagline : movie.type}\n                        </h3>\n                    </div>\n                    <div className=\"description\">\n                        <p>\n                            {movie.overview}\n                        </p>\n                    </div>\n                    <div className=\"category\">\n                        <h3 className=\"cate1\"> {movie.title ? \"Movie\" : \"TV Show\"}</h3>\n                        <h2 className=\"cate2\">{movie.release_date ? movie.release_date : movie.first_air_date}</h2>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default CardDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module"}