{"ast":null,"code":"import _defineProperty from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _createReducer;\n\nimport { createAsyncThunk, createReducer } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport var allFavorites = createAsyncThunk(\"ALL_FAVORITES\", function (userId) {\n  return axios.get(\"http://localhost:3001/api/user/\".concat(userId, \"/favorites\")).then(function (movie) {\n    return movie.data;\n  }).catch(function (error) {\n    return console.log(error);\n  });\n});\nexport var addToFavorites = createAsyncThunk(\"ADD_TO_FAVORITES\", function (userId, data) {\n  // if (!userId) throw new Error(\"You need to be logged in\");\n  return axios.post(\"http://www.localhost:3001/api/user/\".concat(userId, \"/favorite/add\"), data) // .then((favorite) => favorite)\n  .catch(function (error) {\n    return console.log(error);\n  });\n});\nexport var removeFromFavorites = createAsyncThunk(\"REMOVE_FROM_FAVORITES\", function (userId, tmdbId) {\n  // if (!userId) throw new Error(\"You need to be logged in\");\n  return axios.delete(\"http://www.localhost:3001/api/user/\".concat(userId, \"/\").concat(tmdbId, \"/remove\")).then(function (favorite) {\n    return favorite;\n  }).catch(function (error) {\n    return console.log(error);\n  });\n});\nvar favoritesReducer = createReducer([], (_createReducer = {}, _defineProperty(_createReducer, allFavorites.fulfilled, function (state, action) {\n  return action.payload;\n}), _defineProperty(_createReducer, addToFavorites.fulfilled, function (state, action) {\n  return [].concat(_toConsumableArray(state.favorites), [action.payload]);\n}), _defineProperty(_createReducer, removeFromFavorites.fulfilled, function (state, action) {\n  return action.payload;\n}), _createReducer));\nexport default favoritesReducer;","map":{"version":3,"names":["createAsyncThunk","createReducer","axios","allFavorites","userId","get","then","movie","data","catch","error","console","log","addToFavorites","post","removeFromFavorites","tmdbId","delete","favorite","favoritesReducer","fulfilled","state","action","payload","favorites"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/store/favorites.js"],"sourcesContent":["import { createAsyncThunk, createReducer } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\nexport const allFavorites = createAsyncThunk(\"ALL_FAVORITES\", (userId) => {\n    return axios.get(`http://localhost:3001/api/user/${userId}/favorites`)\n        .then(movie => movie.data)\n        .catch(error => console.log(error))\n})\n\nexport const addToFavorites = createAsyncThunk(\"ADD_TO_FAVORITES\", (userId, data) => {\n    // if (!userId) throw new Error(\"You need to be logged in\");\n    return axios.post(`http://www.localhost:3001/api/user/${userId}/favorite/add`, data)\n        // .then((favorite) => favorite)\n        .catch(error => console.log(error))\n})\n\nexport const removeFromFavorites = createAsyncThunk(\"REMOVE_FROM_FAVORITES\", (userId, tmdbId) => {\n    // if (!userId) throw new Error(\"You need to be logged in\");\n    return axios.delete(\n        `http://www.localhost:3001/api/user/${userId}/${tmdbId}/remove`\n    )\n        .then((favorite) => favorite)\n        .catch(error => console.log(error))\n});\n\nconst favoritesReducer = createReducer([], {\n    [allFavorites.fulfilled]: (state, action) => action.payload,\n    [addToFavorites.fulfilled]: (state, action) => { return [...state.favorites, action.payload] },\n    [removeFromFavorites.fulfilled]: (state, action) => action.payload,\n});\n\nexport default favoritesReducer;"],"mappings":";;;;;AAAA,SAASA,gBAAT,EAA2BC,aAA3B,QAAgD,kBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAGH,gBAAgB,CAAC,eAAD,EAAkB,UAACI,MAAD,EAAY;EACtE,OAAOF,KAAK,CAACG,GAAN,0CAA4CD,MAA5C,iBACFE,IADE,CACG,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CADR,EAEFC,KAFE,CAEI,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;EAAA,CAFT,CAAP;AAGH,CAJ2C,CAArC;AAMP,OAAO,IAAMG,cAAc,GAAGb,gBAAgB,CAAC,kBAAD,EAAqB,UAACI,MAAD,EAASI,IAAT,EAAkB;EACjF;EACA,OAAON,KAAK,CAACY,IAAN,8CAAiDV,MAAjD,oBAAwEI,IAAxE,EACH;EADG,CAEFC,KAFE,CAEI,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;EAAA,CAFT,CAAP;AAGH,CAL6C,CAAvC;AAOP,OAAO,IAAMK,mBAAmB,GAAGf,gBAAgB,CAAC,uBAAD,EAA0B,UAACI,MAAD,EAASY,MAAT,EAAoB;EAC7F;EACA,OAAOd,KAAK,CAACe,MAAN,8CACmCb,MADnC,cAC6CY,MAD7C,cAGFV,IAHE,CAGG,UAACY,QAAD;IAAA,OAAcA,QAAd;EAAA,CAHH,EAIFT,KAJE,CAII,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;EAAA,CAJT,CAAP;AAKH,CAPkD,CAA5C;AASP,IAAMS,gBAAgB,GAAGlB,aAAa,CAAC,EAAD,wDACjCE,YAAY,CAACiB,SADoB,EACR,UAACC,KAAD,EAAQC,MAAR;EAAA,OAAmBA,MAAM,CAACC,OAA1B;AAAA,CADQ,mCAEjCV,cAAc,CAACO,SAFkB,EAEN,UAACC,KAAD,EAAQC,MAAR,EAAmB;EAAE,oCAAWD,KAAK,CAACG,SAAjB,IAA4BF,MAAM,CAACC,OAAnC;AAA6C,CAF5D,mCAGjCR,mBAAmB,CAACK,SAHa,EAGD,UAACC,KAAD,EAAQC,MAAR;EAAA,OAAmBA,MAAM,CAACC,OAA1B;AAAA,CAHC,mBAAtC;AAMA,eAAeJ,gBAAf"},"metadata":{},"sourceType":"module"}