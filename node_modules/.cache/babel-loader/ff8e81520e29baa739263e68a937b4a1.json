{"ast":null,"code":"import _slicedToArray from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport toast from 'react-hot-toast';\nimport axios from \"axios\";\nimport { useState } from 'react';\n\nvar useFavorite = function useFavorite(_ref) {\n  var user = _ref.user,\n      movie = _ref.movie;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      add = _useState2[0],\n      setAdd = _useState2[1];\n\n  function agregarFavoritos() {\n    if (!userId) throw toast.error('You need to be logged in');\n    axios.post(\"http://www.localhost:3001/api/user/\".concat(userId, \"/favorite/add\"), {\n      tmdbId: movie.id,\n      title: movie.title,\n      poster_path: movie.poster_path,\n      description: movie.overview,\n      release_date: movie.release_date\n    }).then(function () {\n      return \"Se agrego tu favorito\";\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setAdd(true);\n    toast.success('Added to Favorites!');\n  }\n\n  ;\n\n  function eliminarFavoritos() {\n    if (!userId) throw toast.error('You need to be logged in');\n    axios.delete(\"http://www.localhost:3001/api/user/\".concat(userId, \"/\").concat(movie.id, \"/remove\")).then(function () {\n      return \"Eliminado de favoritos\";\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setAdd(false);\n    toast.success('Removed to Favorites!');\n  }\n\n  ;\n  return {\n    agregarFavoritos: agregarFavoritos,\n    eliminarFavoritos: eliminarFavoritos,\n    add: add\n  };\n};\n\nexport default useFavorite;","map":{"version":3,"names":["toast","axios","useState","useFavorite","user","movie","add","setAdd","agregarFavoritos","userId","error","post","tmdbId","id","title","poster_path","description","overview","release_date","then","catch","console","log","success","eliminarFavoritos","delete"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/hooks/useFavorite.js"],"sourcesContent":["import toast from 'react-hot-toast'\nimport axios from \"axios\";\nimport { useState } from 'react';\n\n\nconst useFavorite = ({ user, movie }) => {\n\n  const [add, setAdd] = useState(false)\n\n  function agregarFavoritos() {\n    if (!userId) throw toast.error('You need to be logged in');\n    axios.post(`http://www.localhost:3001/api/user/${userId}/favorite/add`, {\n      tmdbId: movie.id,\n      title: movie.title,\n      poster_path: movie.poster_path,\n      description: movie.overview,\n      release_date: movie.release_date,\n    })\n      .then(() => \"Se agrego tu favorito\")\n      .catch((error) => console.log(error))\n    setAdd(true)\n    toast.success('Added to Favorites!')\n  };\n\n\n  function eliminarFavoritos() {\n    if (!userId) throw toast.error('You need to be logged in');\n    axios.delete(\n      `http://www.localhost:3001/api/user/${userId}/${movie.id}/remove`)\n      .then(() => \"Eliminado de favoritos\")\n      .catch(error => console.log(error))\n    setAdd(false)\n\n    toast.success('Removed to Favorites!')\n  };\n\n  return { agregarFavoritos, eliminarFavoritos, add }\n\n}\n\nexport default useFavorite\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,iBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAqB;EAAA,IAAlBC,IAAkB,QAAlBA,IAAkB;EAAA,IAAZC,KAAY,QAAZA,KAAY;;EAAA,gBAEjBH,QAAQ,CAAC,KAAD,CAFS;EAAA;EAAA,IAEhCI,GAFgC;EAAA,IAE3BC,MAF2B;;EAIvC,SAASC,gBAAT,GAA4B;IAC1B,IAAI,CAACC,MAAL,EAAa,MAAMT,KAAK,CAACU,KAAN,CAAY,0BAAZ,CAAN;IACbT,KAAK,CAACU,IAAN,8CAAiDF,MAAjD,oBAAwE;MACtEG,MAAM,EAAEP,KAAK,CAACQ,EADwD;MAEtEC,KAAK,EAAET,KAAK,CAACS,KAFyD;MAGtEC,WAAW,EAAEV,KAAK,CAACU,WAHmD;MAItEC,WAAW,EAAEX,KAAK,CAACY,QAJmD;MAKtEC,YAAY,EAAEb,KAAK,CAACa;IALkD,CAAxE,EAOGC,IAPH,CAOQ;MAAA,OAAM,uBAAN;IAAA,CAPR,EAQGC,KARH,CAQS,UAACV,KAAD;MAAA,OAAWW,OAAO,CAACC,GAAR,CAAYZ,KAAZ,CAAX;IAAA,CART;IASAH,MAAM,CAAC,IAAD,CAAN;IACAP,KAAK,CAACuB,OAAN,CAAc,qBAAd;EACD;;EAAA;;EAGD,SAASC,iBAAT,GAA6B;IAC3B,IAAI,CAACf,MAAL,EAAa,MAAMT,KAAK,CAACU,KAAN,CAAY,0BAAZ,CAAN;IACbT,KAAK,CAACwB,MAAN,8CACwChB,MADxC,cACkDJ,KAAK,CAACQ,EADxD,cAEGM,IAFH,CAEQ;MAAA,OAAM,wBAAN;IAAA,CAFR,EAGGC,KAHH,CAGS,UAAAV,KAAK;MAAA,OAAIW,OAAO,CAACC,GAAR,CAAYZ,KAAZ,CAAJ;IAAA,CAHd;IAIAH,MAAM,CAAC,KAAD,CAAN;IAEAP,KAAK,CAACuB,OAAN,CAAc,uBAAd;EACD;;EAAA;EAED,OAAO;IAAEf,gBAAgB,EAAhBA,gBAAF;IAAoBgB,iBAAiB,EAAjBA,iBAApB;IAAuClB,GAAG,EAAHA;EAAvC,CAAP;AAED,CAjCD;;AAmCA,eAAeH,WAAf"},"metadata":{},"sourceType":"module"}