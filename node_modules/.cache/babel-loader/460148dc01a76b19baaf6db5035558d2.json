{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/AddFavorite/AddFavorite.jsx\";\n\nimport React from \"react\";\nimport {\n/* useDispatch, */\nuseSelector } from \"react-redux\";\nimport { useStorage } from \"../../hooks/useStorage\";\nimport \"./add_favorite.css\";\nimport toast from 'react-hot-toast'; // import { addFavorite } from \"../../store/favorites\";\n\nimport axios from \"axios\";\n\nvar AddFavorite = function AddFavorite(_ref) {\n  var setFavorite = _ref.setFavorite;\n  // const dispatch = useDispatch()\n  var user = useStorage();\n  var movie = useSelector(function (state) {\n    return state.individual;\n  });\n\n  var agregarFavoritos = function agregarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    /*         dispatch(addFavorite(user.id,{\n                tmdbId: movie.id,\n                title: movie.title ? movie.title : movie.name,\n                poster_path: movie.poster_path,\n                description: movie.overview,\n                release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n                category: movie.title ? \"movies\" : \"tvshows\"\n            }))\n                .then(() => toast.success('Added to my Favorites'))\n                .catch((error) => console.log(error))\n        }; */\n\n    axios.post(\"http://www.localhost:3001/api/user/\".concat(user.id, \"/favorite/add\"), {\n      tmdbId: movie.id,\n      title: movie.title ? movie.title : movie.name,\n      poster_path: movie.poster_path,\n      description: movie.overview,\n      release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n      category: movie.title ? \"movies\" : \"tvshows\"\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setFavorite(true);\n    toast.success('Added to my Favorites');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite_add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-star\",\n    onClick: agregarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, \"Add to favorites\"));\n};\n\nexport default AddFavorite;","map":{"version":3,"names":["React","useSelector","useStorage","toast","axios","AddFavorite","setFavorite","user","movie","state","individual","agregarFavoritos","id","error","post","tmdbId","title","name","poster_path","description","overview","release_date","first_air_date","category","catch","console","log","success"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/AddFavorite/AddFavorite.jsx"],"sourcesContent":["import React from \"react\";\nimport { /* useDispatch, */ useSelector } from \"react-redux\";\nimport { useStorage } from \"../../hooks/useStorage\";\nimport \"./add_favorite.css\"\nimport toast from 'react-hot-toast'\n// import { addFavorite } from \"../../store/favorites\";\nimport axios from \"axios\";\n\nconst AddFavorite = ({ setFavorite }) => {\n    // const dispatch = useDispatch()\n    const user = useStorage();\n    const movie = useSelector(state => state.individual)\n\n    const agregarFavoritos = () => {\n        if (!user.id) throw toast.error('You need to be logged in');\n\n        /*         dispatch(addFavorite(user.id,{\n                    tmdbId: movie.id,\n                    title: movie.title ? movie.title : movie.name,\n                    poster_path: movie.poster_path,\n                    description: movie.overview,\n                    release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n                    category: movie.title ? \"movies\" : \"tvshows\"\n                }))\n                    .then(() => toast.success('Added to my Favorites'))\n                    .catch((error) => console.log(error))\n            }; */\n\n        axios.post(`http://www.localhost:3001/api/user/${user.id}/favorite/add`, {\n            tmdbId: movie.id,\n            title: movie.title ? movie.title : movie.name,\n            poster_path: movie.poster_path,\n            description: movie.overview,\n            release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n            category: movie.title ? \"movies\" : \"tvshows\"\n        })\n            .catch((error) => console.log(error))\n        setFavorite(true)\n        toast.success('Added to my Favorites')\n    };\n\n\n    return (\n        <div className=\"favorite_add\" >\n            <i className='bx bx-star' onClick={agregarFavoritos}></i>\n\n            <h4>Add to favorites</h4>\n        </div>\n    )\n}\n\nexport default AddFavorite;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA;AAAS;AAAmBC,WAA5B,QAA+C,aAA/C;AACA,SAASC,UAAT,QAA2B,wBAA3B;AACA,OAAO,oBAAP;AACA,OAAOC,KAAP,MAAkB,iBAAlB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAqB;EAAA,IAAlBC,WAAkB,QAAlBA,WAAkB;EACrC;EACA,IAAMC,IAAI,GAAGL,UAAU,EAAvB;EACA,IAAMM,KAAK,GAAGP,WAAW,CAAC,UAAAQ,KAAK;IAAA,OAAIA,KAAK,CAACC,UAAV;EAAA,CAAN,CAAzB;;EAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;IAC3B,IAAI,CAACJ,IAAI,CAACK,EAAV,EAAc,MAAMT,KAAK,CAACU,KAAN,CAAY,0BAAZ,CAAN;IAEd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEQT,KAAK,CAACU,IAAN,8CAAiDP,IAAI,CAACK,EAAtD,oBAAyE;MACrEG,MAAM,EAAEP,KAAK,CAACI,EADuD;MAErEI,KAAK,EAAER,KAAK,CAACQ,KAAN,GAAcR,KAAK,CAACQ,KAApB,GAA4BR,KAAK,CAACS,IAF4B;MAGrEC,WAAW,EAAEV,KAAK,CAACU,WAHkD;MAIrEC,WAAW,EAAEX,KAAK,CAACY,QAJkD;MAKrEC,YAAY,EAAEb,KAAK,CAACa,YAAN,GAAqBb,KAAK,CAACa,YAA3B,GAA0Cb,KAAK,CAACc,cALO;MAMrEC,QAAQ,EAAEf,KAAK,CAACQ,KAAN,GAAc,QAAd,GAAyB;IANkC,CAAzE,EAQKQ,KARL,CAQW,UAACX,KAAD;MAAA,OAAWY,OAAO,CAACC,GAAR,CAAYb,KAAZ,CAAX;IAAA,CARX;IASAP,WAAW,CAAC,IAAD,CAAX;IACAH,KAAK,CAACwB,OAAN,CAAc,uBAAd;EACH,CA1BD;;EA6BA,oBACI;IAAK,SAAS,EAAC,cAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAG,SAAS,EAAC,YAAb;IAA0B,OAAO,EAAEhB,gBAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAGI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,sBAHJ,CADJ;AAOH,CAzCD;;AA2CA,eAAeN,WAAf"},"metadata":{},"sourceType":"module"}