{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/TheMovieCode/client/src/commons/CardDetails/CardDetails.jsx\";\n\nimport React, { useEffect } from \"react\";\nimport \"./card_details.css\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\";\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\nimport toast from 'react-hot-toast';\nimport { useStorage } from \"../../hooks/useStorage\";\nimport { addFavorite, removeFavorite } from \"../../store/statefav\";\nimport { allFavorites } from \"../../store/favorites\";\n\nvar CardDetails = function CardDetails() {\n  var navigate = useNavigate();\n  var dispatch = useDispatch(); // El category que recibe por params queda del anterior y no hace el cambio cuando viene desde los favoritos. A chequear!\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var user = useStorage();\n  var movie = useSelector(function (state) {\n    return state.individual;\n  });\n  var data = {\n    userId: user.id,\n    movie: movie\n  };\n  var remove = {\n    userId: user.id,\n    movieId: movie.id\n  };\n  var favorites = useSelector(function (state) {\n    return state.favorites;\n  });\n  var validacion = favorites.filter(function (fav) {\n    return fav.tmdbId === movie.id;\n  }).length > 0;\n  var imageUrl = movie.backdrop_path ? \"https://image.tmdb.org/t/p/original\".concat(movie.backdrop_path) : placeholder;\n  useEffect(function () {\n    /*  if (category === \"movies\") { */\n    dispatch(individualMovie(id));\n    /*  } else { */\n\n    dispatch(individualTvShow(id));\n    /*   } */\n  }, [id]);\n\n  var agregarFavoritos = function agregarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    dispatch(addFavorite(data)).catch(function (error) {\n      return console.log(error);\n    });\n    toast.success('Added to my Favorites');\n  };\n\n  useEffect(function () {\n    dispatch(allFavorites(user.username));\n  }, [agregarFavoritos]);\n\n  var eliminarFavoritos = function eliminarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    dispatch(removeFavorite(remove)).catch(function (error) {\n      return console.log(error);\n    });\n    toast.success('Removed to my Favorites');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagen_details\",\n    style: {\n      backgroundImage: \"url(\".concat(imageUrl, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"initial_det\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"THE MOVIE CODE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-chevron-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: function onClick() {\n      return navigate(-1);\n    },\n    className: \"back_buttom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \" BACK\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, validacion ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bxs-star\",\n    onClick: eliminarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 29\n    }\n  }, \"Remove from favorites\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-star\",\n    onClick: agregarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, \"Add to favorites\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"container_titleD\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, movie.title ? movie.title : movie.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_tag\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"container_tag\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, movie.tagline ? movie.tagline : movie.type)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, movie.overview)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"cate1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, \" \", movie.title ? \"Movie\" : \"TV Show\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"cate2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, movie.release_date ? movie.release_date : movie.first_air_date)))));\n};\n\nexport default CardDetails;","map":{"version":3,"names":["React","useEffect","useNavigate","useParams","useDispatch","useSelector","placeholder","individualMovie","individualTvShow","toast","useStorage","addFavorite","removeFavorite","allFavorites","CardDetails","navigate","dispatch","id","user","movie","state","individual","data","userId","remove","movieId","favorites","validacion","filter","fav","tmdbId","length","imageUrl","backdrop_path","agregarFavoritos","error","catch","console","log","success","username","eliminarFavoritos","backgroundImage","title","name","tagline","type","overview","release_date","first_air_date"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/TheMovieCode/client/src/commons/CardDetails/CardDetails.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport \"./card_details.css\"\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\"\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\nimport toast from 'react-hot-toast'\nimport { useStorage } from \"../../hooks/useStorage\";\nimport { addFavorite, removeFavorite } from \"../../store/statefav\";\nimport { allFavorites } from \"../../store/favorites\";\n\nconst CardDetails = () => {\n    const navigate = useNavigate()\n    const dispatch = useDispatch();\n    // El category que recibe por params queda del anterior y no hace el cambio cuando viene desde los favoritos. A chequear!\n    const { /* category, */ id } = useParams();\n    const user = useStorage();\n    const movie = useSelector(state => state.individual)\n    const data = { userId: user.id, movie }\n    const remove = { userId: user.id, movieId: movie.id }\n    const favorites = useSelector(state => state.favorites)\n    const validacion = favorites.filter(fav => fav.tmdbId === movie.id).length > 0\n\n    const imageUrl = movie.backdrop_path ? `https://image.tmdb.org/t/p/original${movie.backdrop_path}` : placeholder\n\n    useEffect(() => {\n        /*  if (category === \"movies\") { */\n        dispatch(individualMovie(id))\n        /*  } else { */\n        dispatch(individualTvShow(id))      \n        /*   } */\n    }, [id])\n\n    const agregarFavoritos = () => {\n        if (!user.id) throw toast.error('You need to be logged in');\n\n        dispatch(addFavorite(data))\n            .catch((error) => console.log(error))\n        toast.success('Added to my Favorites')\n    };\n    useEffect(() => {\n        dispatch(allFavorites(user.username))\n    }, [agregarFavoritos])\n\n    const eliminarFavoritos = () => {\n        if (!user.id) throw toast.error('You need to be logged in');\n        dispatch(removeFavorite(remove))\n            .catch(error => console.log(error))\n        toast.success('Removed to my Favorites')\n    };\n\n    return (\n        <div className=\"imagen_details\" style={{\n            backgroundImage: `url(${imageUrl})`\n        }}>\n            <div className=\"initial_det\">\n                <h1>THE MOVIE CODE</h1>\n\n                <div className=\"back\">\n                    <i className='bx bx-chevron-left'></i>\n                    <h3 onClick={() => navigate(-1)} className=\"back_buttom\"> BACK</h3>\n                </div>\n\n                <div className=\"info\">\n                    {validacion ? (\n                        <div className=\"favorite\" >\n                            <i className='bx bxs-star' onClick={eliminarFavoritos}></i>\n\n                            <h4>Remove from favorites</h4>\n                        </div>\n                    ) : (\n                        <div className=\"favorite\" >\n                            <i className='bx bx-star' onClick={agregarFavoritos}></i>\n                            <h4>Add to favorites</h4>\n                        </div>\n\n                    )}\n                    <div className=\"movie_title\">\n                        <h2 className=\"container_titleD\">\n                            {movie.title ? movie.title : movie.name}\n                        </h2>\n                    </div>\n                    <div className=\"movie_tag\">\n                        <h3 className=\"container_tag\">\n                            {movie.tagline ?\n                                movie.tagline : movie.type}\n                        </h3>\n                    </div>\n                    <div className=\"description\">\n                        <p>\n                            {movie.overview}\n                        </p>\n                    </div>\n                    <div className=\"category\">\n                        <h3 className=\"cate1\"> {movie.title ? \"Movie\" : \"TV Show\"}</h3>\n                        <h2 className=\"cate2\">{movie.release_date ? movie.release_date : movie.first_air_date}</h2>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default CardDetails;"],"mappings":"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"},"metadata":{},"sourceType":"module"}