{"ast":null,"code":"import _defineProperty from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { createAsyncThunk, createReducer } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport var allFavorites = createAsyncThunk(\"ALL_FAVORITES\", function (userId) {\n  return axios.get(\"http://localhost:3001/api/user/\".concat(userId, \"/favorites\")).then(function (movie) {\n    return movie.data;\n  }).catch(function (error) {\n    return console.log(error);\n  });\n});\nexport var addFavorite = createAsyncThunk(\"ADD_FAVORITE\", function (userId) {\n  return axios.post(\"http://www.localhost:3001/api/user/\".concat(userId, \"/favorite/add\"), data).then(favorite);\n});\nexport var addToFavorites = createAsyncThunk(\"ADD_TO_FAVORITES\", function (flight, thunkAPI) {\n  var _thunkAPI$getState = thunkAPI.getState(),\n      user = _thunkAPI$getState.user;\n\n  if (!user.id) throw new Error(\"You need to be logged in\");\n  return axios.put(\"/api/favorites?userId=\".concat(user.id, \"&flightId=\").concat(flight.id)).then(function () {\n    return flight;\n  });\n});\nvar favoritesReducer = createReducer([], _defineProperty({}, allFavorites.fulfilled, function (state, action) {\n  return action.payload;\n}));\nexport default favoritesReducer;","map":{"version":3,"names":["createAsyncThunk","createReducer","axios","allFavorites","userId","get","then","movie","data","catch","error","console","log","addFavorite","post","favorite","addToFavorites","flight","thunkAPI","getState","user","id","Error","put","favoritesReducer","fulfilled","state","action","payload"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/store/favorites.js"],"sourcesContent":["import { createAsyncThunk, createReducer } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\nexport const allFavorites = createAsyncThunk(\"ALL_FAVORITES\", (userId) => {\n    return axios.get(`http://localhost:3001/api/user/${userId}/favorites`)\n        .then(movie => movie.data)\n        .catch(error => console.log(error))\n})\n\nexport const addFavorite = createAsyncThunk(\"ADD_FAVORITE\", (userId, ) => {\n    return axios.post(`http://www.localhost:3001/api/user/${userId}/favorite/add`, data)\n    .then(favorite)\n})\n\nexport const addToFavorites = createAsyncThunk(\n    \"ADD_TO_FAVORITES\",\n    (flight, thunkAPI) => {\n      const { user } = thunkAPI.getState();\n      if (!user.id) throw new Error(\"You need to be logged in\");\n      return axios\n        .put(`/api/favorites?userId=${user.id}&flightId=${flight.id}`)\n        .then(() => flight);\n    }\n  );\n\nconst favoritesReducer = createReducer([], {\n    [allFavorites.fulfilled]: (state, action) => action.payload,\n\n});\n\nexport default favoritesReducer;"],"mappings":";AAAA,SAASA,gBAAT,EAA2BC,aAA3B,QAAgD,kBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAGH,gBAAgB,CAAC,eAAD,EAAkB,UAACI,MAAD,EAAY;EACtE,OAAOF,KAAK,CAACG,GAAN,0CAA4CD,MAA5C,iBACFE,IADE,CACG,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CADR,EAEFC,KAFE,CAEI,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;EAAA,CAFT,CAAP;AAGH,CAJ2C,CAArC;AAMP,OAAO,IAAMG,WAAW,GAAGb,gBAAgB,CAAC,cAAD,EAAiB,UAACI,MAAD,EAAc;EACtE,OAAOF,KAAK,CAACY,IAAN,8CAAiDV,MAAjD,oBAAwEI,IAAxE,EACNF,IADM,CACDS,QADC,CAAP;AAEH,CAH0C,CAApC;AAKP,OAAO,IAAMC,cAAc,GAAGhB,gBAAgB,CAC1C,kBAD0C,EAE1C,UAACiB,MAAD,EAASC,QAAT,EAAsB;EAAA,yBACHA,QAAQ,CAACC,QAAT,EADG;EAAA,IACZC,IADY,sBACZA,IADY;;EAEpB,IAAI,CAACA,IAAI,CAACC,EAAV,EAAc,MAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;EACd,OAAOpB,KAAK,CACTqB,GADI,iCACyBH,IAAI,CAACC,EAD9B,uBAC6CJ,MAAM,CAACI,EADpD,GAEJf,IAFI,CAEC;IAAA,OAAMW,MAAN;EAAA,CAFD,CAAP;AAGD,CARyC,CAAvC;AAWP,IAAMO,gBAAgB,GAAGvB,aAAa,CAAC,EAAD,sBACjCE,YAAY,CAACsB,SADoB,EACR,UAACC,KAAD,EAAQC,MAAR;EAAA,OAAmBA,MAAM,CAACC,OAA1B;AAAA,CADQ,EAAtC;AAKA,eAAeJ,gBAAf"},"metadata":{},"sourceType":"module"}