{"ast":null,"code":"import _slicedToArray from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/CardDetails/CardDetails.jsx\";\n\nimport React, { useEffect, useState } from \"react\";\nimport \"./card_details.css\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\";\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\nimport axios from \"axios\";\nimport toast from 'react-hot-toast';\nimport { useStorage } from \"../../hooks/useStorage\";\n\nvar CardDetails = function CardDetails() {\n  var navigate = useNavigate();\n  var dispatch = useDispatch();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var user = useStorage();\n  var movie = useSelector(function (state) {\n    return state.individual;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      favorite = _useState2[0],\n      setFavorite = _useState2[1];\n\n  var movieDate = movie.release_date;\n  console.log(\"******MOVIE DATE*******\", movieDate);\n\n  if (typeof myVar === 'string' || myVar instanceof String) {\n    console.log(\"ES UN STRING\");\n  } else {\n    console.log(\"NOOOOOOOO ES UN STRING\");\n  }\n\n  var imageUrl = movie.backdrop_path ? \"https://image.tmdb.org/t/p/original\".concat(movie.backdrop_path) : placeholder; //CONFUSION!!!! TIRA ERROR EL QUE NO TOMA, POR ENDE SI ENTRO A UNA MOVIE HAY UN AXIOS ERROR DE TV SHOWSSSSSSSSSS\n\n  useEffect(function () {\n    dispatch(individualMovie(id));\n  }, [id]);\n  useEffect(function () {\n    dispatch(individualTvShow(id));\n  }, [id]);\n\n  var agregarFavoritos = function agregarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    axios.post(\"http://www.localhost:3001/api/user/\".concat(user.id, \"/favorite/add\"), {\n      tmdbId: movie.id,\n      title: movie.title ? movie.title : movie.name,\n      poster_path: movie.poster_path,\n      description: movie.overview,\n      release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n      category: movie.title ? \"movies\" : \"tvshows\"\n    }).catch(function (error) {\n      return console.log(error);\n    });\n    setFavorite(true);\n    toast.success('Added to my Favorites');\n  };\n\n  var eliminarFavoritos = function eliminarFavoritos() {\n    if (!user.id) throw toast.error('You need to be logged in');\n    axios.delete(\"http://www.localhost:3001/api/user/\".concat(user.id, \"/\").concat(movie.id, \"/remove\")).then(function () {}).catch(function (error) {\n      return console.log(error);\n    });\n    setFavorite(false);\n    toast.success('Removed to my Favorites');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"imagen_details\",\n    style: {\n      backgroundImage: \"url(\".concat(imageUrl, \")\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"initial_det\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, \"THE MOVIE CODE\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-chevron-left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    onClick: function onClick() {\n      return navigate(-1);\n    },\n    className: \"back_buttom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \" BACK\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, favorite ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bxs-star\",\n    onClick: eliminarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, \"Remove from favorites\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"favorite\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"bx bx-star\",\n    onClick: agregarFavoritos,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 29\n    }\n  }, \"Add to favorites\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"container_titleD\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, movie.title ? movie.title : movie.name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_year\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"container_year\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, movie.tagline ? movie.tagline : movie.type)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, movie.overview)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"cate1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \" \", movie.title ? \"Movie\" : \"TV Show\"), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"cate2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, movie.release_date ? movie.release_date : movie.first_air_date)))));\n};\n\nexport default CardDetails;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","useDispatch","useSelector","placeholder","individualMovie","individualTvShow","axios","toast","useStorage","CardDetails","navigate","dispatch","id","user","movie","state","individual","favorite","setFavorite","movieDate","release_date","console","log","myVar","String","imageUrl","backdrop_path","agregarFavoritos","error","post","tmdbId","title","name","poster_path","description","overview","first_air_date","category","catch","success","eliminarFavoritos","delete","then","backgroundImage","tagline","type"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/commons/CardDetails/CardDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./card_details.css\"\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport placeholder from \"../../utils/placeholder.png\"\nimport { individualMovie, individualTvShow } from \"../../store/individual\";\nimport axios from \"axios\";\nimport toast from 'react-hot-toast'\nimport { useStorage } from \"../../hooks/useStorage\";\n\nconst CardDetails = () => {\n    const navigate = useNavigate()\n    const dispatch = useDispatch();\n    const { id } = useParams();\n    const user = useStorage();\n    const movie = useSelector(state => state.individual)\n    const [favorite, setFavorite] = useState(false)\n    const movieDate = movie.release_date\n    console.log(\"******MOVIE DATE*******\", movieDate)\n\n    if (typeof myVar === 'string' || myVar instanceof String) {\n        console.log(\"ES UN STRING\");\n    }    else {        console.log(\"NOOOOOOOO ES UN STRING\");\n    }\n\n\n\n    const imageUrl = movie.backdrop_path ? `https://image.tmdb.org/t/p/original${movie.backdrop_path}` : placeholder\n\n    //CONFUSION!!!! TIRA ERROR EL QUE NO TOMA, POR ENDE SI ENTRO A UNA MOVIE HAY UN AXIOS ERROR DE TV SHOWSSSSSSSSSS\n    useEffect(() => {\n        dispatch(individualMovie(id))\n    }, [id])\n\n    useEffect(() => {\n        dispatch(individualTvShow(id))\n    }, [id])\n\n    const agregarFavoritos = () => {\n        if (!user.id) throw toast.error('You need to be logged in');\n\n        axios.post(`http://www.localhost:3001/api/user/${user.id}/favorite/add`, {\n            tmdbId: movie.id,\n            title: movie.title ? movie.title : movie.name,\n            poster_path: movie.poster_path,\n            description: movie.overview,\n            release_date: movie.release_date ? movie.release_date : movie.first_air_date,\n            category: movie.title ? \"movies\" : \"tvshows\"\n        })\n            .catch((error) => console.log(error))\n        setFavorite(true)\n        toast.success('Added to my Favorites')\n    };\n\n    const eliminarFavoritos = () => {\n        if (!user.id) throw toast.error('You need to be logged in');\n        axios.delete(\n            `http://www.localhost:3001/api/user/${user.id}/${movie.id}/remove`)\n            .then(() => { })\n            .catch(error => console.log(error))\n        setFavorite(false)\n\n        toast.success('Removed to my Favorites')\n    };\n\n    return (\n\n        <div className=\"imagen_details\" style={{\n            backgroundImage: `url(${imageUrl})`\n        }}>\n            <div className=\"initial_det\">\n                <h1>THE MOVIE CODE</h1>\n\n                <div className=\"back\">\n                    <i className='bx bx-chevron-left'></i>\n                    <h3 onClick={() => navigate(-1)} className=\"back_buttom\"> BACK</h3>\n                </div>\n\n\n                <div className=\"info\">\n                    {favorite ? (\n                        <div className=\"favorite\" >\n                            <i className='bx bxs-star' onClick={eliminarFavoritos}></i>\n\n                            <h4>Remove from favorites</h4>\n                        </div>\n                    ) : (\n                        <div className=\"favorite\" >\n                            <i className='bx bx-star' onClick={agregarFavoritos}></i>\n                            <h4>Add to favorites</h4>\n                        </div>\n\n                    )}\n                    <div className=\"movie_title\">\n                        <h2 className=\"container_titleD\">\n                            {movie.title ? movie.title : movie.name}\n                        </h2>\n                    </div>\n                    <div className=\"movie_year\">\n                        <h3 className=\"container_year\">\n                            {movie.tagline ?\n                                movie.tagline : movie.type}\n                        </h3>\n                    </div>\n                    <div className=\"description\">\n                        <p>\n                            {movie.overview}\n                        </p>\n                    </div>\n                    <div className=\"category\">\n                        <h3 className=\"cate1\"> {movie.title ? \"Movie\" : \"TV Show\"}</h3>\n                        <h2 className=\"cate2\">{movie.release_date ? movie.release_date : movie.first_air_date}</h2>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n\nexport default CardDetails;"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,oBAAP;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,wBAAlD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,SAASC,UAAT,QAA2B,wBAA3B;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;EACtB,IAAMC,QAAQ,GAAGX,WAAW,EAA5B;EACA,IAAMY,QAAQ,GAAGV,WAAW,EAA5B;;EAFsB,iBAGPD,SAAS,EAHF;EAAA,IAGdY,EAHc,cAGdA,EAHc;;EAItB,IAAMC,IAAI,GAAGL,UAAU,EAAvB;EACA,IAAMM,KAAK,GAAGZ,WAAW,CAAC,UAAAa,KAAK;IAAA,OAAIA,KAAK,CAACC,UAAV;EAAA,CAAN,CAAzB;;EALsB,gBAMUlB,QAAQ,CAAC,KAAD,CANlB;EAAA;EAAA,IAMfmB,QANe;EAAA,IAMLC,WANK;;EAOtB,IAAMC,SAAS,GAAGL,KAAK,CAACM,YAAxB;EACAC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCH,SAAvC;;EAEA,IAAI,OAAOI,KAAP,KAAiB,QAAjB,IAA6BA,KAAK,YAAYC,MAAlD,EAA0D;IACtDH,OAAO,CAACC,GAAR,CAAY,cAAZ;EACH,CAFD,MAEU;IAASD,OAAO,CAACC,GAAR,CAAY,wBAAZ;EAClB;;EAID,IAAMG,QAAQ,GAAGX,KAAK,CAACY,aAAN,gDAA4DZ,KAAK,CAACY,aAAlE,IAAoFvB,WAArG,CAjBsB,CAmBtB;;EACAN,SAAS,CAAC,YAAM;IACZc,QAAQ,CAACP,eAAe,CAACQ,EAAD,CAAhB,CAAR;EACH,CAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;EAIAf,SAAS,CAAC,YAAM;IACZc,QAAQ,CAACN,gBAAgB,CAACO,EAAD,CAAjB,CAAR;EACH,CAFQ,EAEN,CAACA,EAAD,CAFM,CAAT;;EAIA,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;IAC3B,IAAI,CAACd,IAAI,CAACD,EAAV,EAAc,MAAML,KAAK,CAACqB,KAAN,CAAY,0BAAZ,CAAN;IAEdtB,KAAK,CAACuB,IAAN,8CAAiDhB,IAAI,CAACD,EAAtD,oBAAyE;MACrEkB,MAAM,EAAEhB,KAAK,CAACF,EADuD;MAErEmB,KAAK,EAAEjB,KAAK,CAACiB,KAAN,GAAcjB,KAAK,CAACiB,KAApB,GAA4BjB,KAAK,CAACkB,IAF4B;MAGrEC,WAAW,EAAEnB,KAAK,CAACmB,WAHkD;MAIrEC,WAAW,EAAEpB,KAAK,CAACqB,QAJkD;MAKrEf,YAAY,EAAEN,KAAK,CAACM,YAAN,GAAqBN,KAAK,CAACM,YAA3B,GAA0CN,KAAK,CAACsB,cALO;MAMrEC,QAAQ,EAAEvB,KAAK,CAACiB,KAAN,GAAc,QAAd,GAAyB;IANkC,CAAzE,EAQKO,KARL,CAQW,UAACV,KAAD;MAAA,OAAWP,OAAO,CAACC,GAAR,CAAYM,KAAZ,CAAX;IAAA,CARX;IASAV,WAAW,CAAC,IAAD,CAAX;IACAX,KAAK,CAACgC,OAAN,CAAc,uBAAd;EACH,CAdD;;EAgBA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC5B,IAAI,CAAC3B,IAAI,CAACD,EAAV,EAAc,MAAML,KAAK,CAACqB,KAAN,CAAY,0BAAZ,CAAN;IACdtB,KAAK,CAACmC,MAAN,8CAC0C5B,IAAI,CAACD,EAD/C,cACqDE,KAAK,CAACF,EAD3D,cAEK8B,IAFL,CAEU,YAAM,CAAG,CAFnB,EAGKJ,KAHL,CAGW,UAAAV,KAAK;MAAA,OAAIP,OAAO,CAACC,GAAR,CAAYM,KAAZ,CAAJ;IAAA,CAHhB;IAIAV,WAAW,CAAC,KAAD,CAAX;IAEAX,KAAK,CAACgC,OAAN,CAAc,yBAAd;EACH,CATD;;EAWA,oBAEI;IAAK,SAAS,EAAC,gBAAf;IAAgC,KAAK,EAAE;MACnCI,eAAe,gBAASlB,QAAT;IADoB,CAAvC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAGI;IAAK,SAAS,EAAC,aAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,oBADJ,eAGI;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAG,SAAS,EAAC,oBAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAEI;IAAI,OAAO,EAAE;MAAA,OAAMf,QAAQ,CAAC,CAAC,CAAF,CAAd;IAAA,CAAb;IAAiC,SAAS,EAAC,aAA3C;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,WAFJ,CAHJ,eASI;IAAK,SAAS,EAAC,MAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKO,QAAQ,gBACL;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAG,SAAS,EAAC,aAAb;IAA2B,OAAO,EAAEuB,iBAApC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAGI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,2BAHJ,CADK,gBAOL;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAG,SAAS,EAAC,YAAb;IAA0B,OAAO,EAAEb,gBAAnC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,eAEI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,sBAFJ,CARR,eAcI;IAAK,SAAS,EAAC,aAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAI,SAAS,EAAC,kBAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKb,KAAK,CAACiB,KAAN,GAAcjB,KAAK,CAACiB,KAApB,GAA4BjB,KAAK,CAACkB,IADvC,CADJ,CAdJ,eAmBI;IAAK,SAAS,EAAC,YAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAI,SAAS,EAAC,gBAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKlB,KAAK,CAAC8B,OAAN,GACG9B,KAAK,CAAC8B,OADT,GACmB9B,KAAK,CAAC+B,IAF9B,CADJ,CAnBJ,eAyBI;IAAK,SAAS,EAAC,aAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACK/B,KAAK,CAACqB,QADX,CADJ,CAzBJ,eA8BI;IAAK,SAAS,EAAC,UAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAI,SAAS,EAAC,OAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,QAAwBrB,KAAK,CAACiB,KAAN,GAAc,OAAd,GAAwB,SAAhD,CADJ,eAEI;IAAI,SAAS,EAAC,OAAd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAuBjB,KAAK,CAACM,YAAN,GAAqBN,KAAK,CAACM,YAA3B,GAA0CN,KAAK,CAACsB,cAAvE,CAFJ,CA9BJ,CATJ,CAHJ,CAFJ;AAqDH,CA5GD;;AA8GA,eAAe3B,WAAf"},"metadata":{},"sourceType":"module"}