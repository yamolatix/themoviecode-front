{"ast":null,"code":"import _defineProperty from \"/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _createReducer;\n\nimport { createAsyncThunk, createReducer } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport var allFavorites = createAsyncThunk(\"ALL_FAVORITES\", function (username) {\n  return axios.get(\"http://localhost:3001/api/user/\".concat(username, \"/favorites\")).then(function (movie) {\n    return movie.data;\n  }).catch(function (error) {\n    return console.log(error);\n  });\n});\nexport var addFavorite = createAsyncThunk(\"ADD_FAVORITE\", function (userId, tmdbId, title, poster_path, description, release_date, category) {\n  return axios.post(\"http://www.localhost:3001/api/user/favorite/add?userId=\".concat(userId), {\n    tmdbId: tmdbId.id,\n    title: title.title ? title.title : title.name,\n    poster_path: poster_path.poster_path,\n    description: description.overview,\n    release_date: release_date,\n    category: category\n  }).then(function (movie) {\n    return movie.data;\n  }).catch(function (error) {\n    return console.log(error.response);\n  });\n});\nexport var removeFavorite = createAsyncThunk(\"REMOVE_FAVORITE\", function (userId, movieId) {\n  return axios.delete(\"http://www.localhost:3001/api/user/\".concat(userId, \"/\").concat(movieId, \"/remove\")).then(function (movie) {\n    return movie.data;\n  }).catch(function (error) {\n    return console.log(error.response);\n  });\n});\nvar favoritesReducer = createReducer([], (_createReducer = {}, _defineProperty(_createReducer, allFavorites.fulfilled, function (state, action) {\n  return action.payload;\n}), _defineProperty(_createReducer, addFavorite.fulfilled, function (state, action) {\n  return action.payload;\n}), _defineProperty(_createReducer, removeFavorite.fulfilled, function (state, action) {\n  state.favorites = state.favorites.filter(function (fav) {\n    return fav.id !== action.payload.id;\n  });\n}), _createReducer));\nexport default favoritesReducer;","map":{"version":3,"names":["createAsyncThunk","createReducer","axios","allFavorites","username","get","then","movie","data","catch","error","console","log","addFavorite","userId","tmdbId","title","poster_path","description","release_date","category","post","id","name","overview","response","removeFavorite","movieId","delete","favoritesReducer","fulfilled","state","action","payload","favorites","filter","fav"],"sources":["/home/yamilaortiztoscano/Desktop/YAMO/Plataforma 5/Git Repositories/tmdb-movie-code/client/src/store/favorites.js"],"sourcesContent":["import { createAsyncThunk, createReducer } from '@reduxjs/toolkit'\nimport axios from 'axios'\n\nexport const allFavorites = createAsyncThunk(\"ALL_FAVORITES\", (username) => {\n    return axios.get(`http://localhost:3001/api/user/${username}/favorites`)\n        .then(movie => movie.data)\n        .catch(error => console.log(error))\n});\n\nexport const addFavorite = createAsyncThunk(\"ADD_FAVORITE\", (userId, tmdbId, title, poster_path, description, release_date, category) => {\n    return axios.post(`http://www.localhost:3001/api/user/favorite/add?userId=${userId}`, {\n        tmdbId: tmdbId.id,\n        title: title.title ? title.title : title.name,\n        poster_path: poster_path.poster_path,\n        description: description.overview,\n        release_date: release_date,\n        category: category,\n    })\n        .then(movie => movie.data)\n        .catch((error) => console.log(error.response))\n});\n\nexport const removeFavorite = createAsyncThunk(\"REMOVE_FAVORITE\", (userId, movieId) => {\n    return axios.delete(\n        `http://www.localhost:3001/api/user/${userId}/${movieId}/remove`)\n        .then(movie => movie.data)\n        .catch(error => console.log(error.response))\n});\n\nconst favoritesReducer = createReducer([], {\n    [allFavorites.fulfilled]: (state, action) => action.payload,\n    [addFavorite.fulfilled]: (state, action) => action.payload,\n    [removeFavorite.fulfilled]: (state, action) => {\n        state.favorites = state.favorites.filter(\n            (fav) => fav.id !== action.payload.id);\n    },\n});\n\nexport default favoritesReducer;"],"mappings":";;;;AAAA,SAASA,gBAAT,EAA2BC,aAA3B,QAAgD,kBAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,IAAMC,YAAY,GAAGH,gBAAgB,CAAC,eAAD,EAAkB,UAACI,QAAD,EAAc;EACxE,OAAOF,KAAK,CAACG,GAAN,0CAA4CD,QAA5C,iBACFE,IADE,CACG,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CADR,EAEFC,KAFE,CAEI,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;EAAA,CAFT,CAAP;AAGH,CAJ2C,CAArC;AAMP,OAAO,IAAMG,WAAW,GAAGb,gBAAgB,CAAC,cAAD,EAAiB,UAACc,MAAD,EAASC,MAAT,EAAiBC,KAAjB,EAAwBC,WAAxB,EAAqCC,WAArC,EAAkDC,YAAlD,EAAgEC,QAAhE,EAA6E;EACrI,OAAOlB,KAAK,CAACmB,IAAN,kEAAqEP,MAArE,GAA+E;IAClFC,MAAM,EAAEA,MAAM,CAACO,EADmE;IAElFN,KAAK,EAAEA,KAAK,CAACA,KAAN,GAAcA,KAAK,CAACA,KAApB,GAA4BA,KAAK,CAACO,IAFyC;IAGlFN,WAAW,EAAEA,WAAW,CAACA,WAHyD;IAIlFC,WAAW,EAAEA,WAAW,CAACM,QAJyD;IAKlFL,YAAY,EAAEA,YALoE;IAMlFC,QAAQ,EAAEA;EANwE,CAA/E,EAQFd,IARE,CAQG,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CARR,EASFC,KATE,CASI,UAACC,KAAD;IAAA,OAAWC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACe,QAAlB,CAAX;EAAA,CATJ,CAAP;AAUH,CAX0C,CAApC;AAaP,OAAO,IAAMC,cAAc,GAAG1B,gBAAgB,CAAC,iBAAD,EAAoB,UAACc,MAAD,EAASa,OAAT,EAAqB;EACnF,OAAOzB,KAAK,CAAC0B,MAAN,8CACmCd,MADnC,cAC6Ca,OAD7C,cAEFrB,IAFE,CAEG,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CAFR,EAGFC,KAHE,CAGI,UAAAC,KAAK;IAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACe,QAAlB,CAAJ;EAAA,CAHT,CAAP;AAIH,CAL6C,CAAvC;AAOP,IAAMI,gBAAgB,GAAG5B,aAAa,CAAC,EAAD,wDACjCE,YAAY,CAAC2B,SADoB,EACR,UAACC,KAAD,EAAQC,MAAR;EAAA,OAAmBA,MAAM,CAACC,OAA1B;AAAA,CADQ,mCAEjCpB,WAAW,CAACiB,SAFqB,EAET,UAACC,KAAD,EAAQC,MAAR;EAAA,OAAmBA,MAAM,CAACC,OAA1B;AAAA,CAFS,mCAGjCP,cAAc,CAACI,SAHkB,EAGN,UAACC,KAAD,EAAQC,MAAR,EAAmB;EAC3CD,KAAK,CAACG,SAAN,GAAkBH,KAAK,CAACG,SAAN,CAAgBC,MAAhB,CACd,UAACC,GAAD;IAAA,OAASA,GAAG,CAACd,EAAJ,KAAWU,MAAM,CAACC,OAAP,CAAeX,EAAnC;EAAA,CADc,CAAlB;AAEH,CANiC,mBAAtC;AASA,eAAeO,gBAAf"},"metadata":{},"sourceType":"module"}